<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>12c2 c√™ hai say hi</title>

  <!-- Link CSS -->
  <link rel="stylesheet" href="12c2_styles.css" />
</head>

<body>
  <a href="#main" class="skip-link">Skip to content</a>
  <div id="splash-screen">
    <div class="splash-content">
      <img id="splash-logo" src="assets/pictures/components/logo.jpg" alt="Logo" />
      <div class="loader-container">
        <div id="loading-bar"></div>
      </div>
      <p class="loading-text">Loading 12C2...</p>
    </div>
  </div>

  <aside class="sidebar">
    <!-- Logo -->
    <img class="logo" src="assets/pictures/components/logo.jpg" />

    <!-- Navigation -->
    <ul class="nav-links">
      <li>
        <a href="#section1" data-section="section1" class="tooltip-trigger">
          <img class="icon" src="assets/pictures/components/section1.png" />
          <span class="text">Gi·ªõi thi·ªáu</span>
          <span class="tooltip">Th√¥ng tin v·ªÅ l·ªõp</span>
        </a>
      </li>

      <li>
        <a href="#section2" data-section="section2" class="tooltip-trigger">
          <img class="icon" src="assets/pictures/components/section2.png" />
          <span class="text">Th∆∞ vi·ªán</span>
          <span class="tooltip">·∫¢nh v√† k·ª∑ ni·ªám</span>
        </a>
      </li>

      <li>
        <a href="#section3" data-section="section3" class="tooltip-trigger">
          <img class="icon" src="assets/pictures/components/section3.png" />
          <span class="text">Mini Game</span>
          <span class="tooltip">Kh√°m ph√° l·ªõp h·ªçc</span>
        </a>
      </li>

      <li>
        <a href="#section4" data-section="section4" class="tooltip-trigger">
          <img class="icon" src="assets/pictures/components/section4.png" />
          <span class="text">B·∫£ng tin</span>
          <span class="tooltip">ƒê·ªÉ l·∫°i l·ªùi nh·∫Øn</span>
        </a>
      </li>
    </ul>

    <!-- Footer -->
    <div class="sidebar-footer">¬© Made By T·ªï 2</div>
  </aside>

  <main id="main" class="main">
    <!-- Hero Section -->
    <div class="hero-section">
      <div class="hero-content">
        <div class="hero-badge">‚ú® Ch√†o m·ª´ng ƒë·∫øn v·ªõi</div>
        <h1 class="hero-title">L·ªõp 12C2</h1>
        <p class="hero-subtitle">N∆°i k·∫øt n·ªëi nh·ªØng k·ª∑ ni·ªám v√† t√¨nh b·∫°n ƒë√°ng nh·ªõ</p>
        <!-- Announcements Widget -->
        <div class="announce-card" aria-live="polite" aria-atomic="true">
          <div class="announce-header">
            <div class="announce-title">üó£Ô∏èüî•</div>
            <div class="announce-meta">
              <button id="announcePrev" class="icon-btn" aria-label="Previous announcement">‚óÄ</button>
              <button id="announcePause" class="icon-btn" aria-pressed="false" aria-label="Pause announcements">‚è∏</button>
              <button id="announceNext" class="icon-btn" aria-label="Next announcement">‚ñ∂</button>
            </div>
          </div>
          <div id="announceBody" class="announce-body">ƒêang t·∫£i tin...</div>
          <div id="announceAuthor" class="announce-author" aria-hidden="true"></div>
        </div>
        <div class="hero-buttons">
          <button class="btn-primary" onclick="document.getElementById('section1').scrollIntoView({behavior: 'smooth'})">
            <span>Kh√°m ph√° ngay</span>
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M3 8H13M13 8L8 3M13 8L8 13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
          <button class="btn-secondary" onclick="document.getElementById('section4').scrollIntoView({behavior: 'smooth'})">
            <span>ƒê·ªÉ l·∫°i l·ªùi nh·∫Øn</span>
          </button>
        </div>
      </div>
      <div class="hero-stats">
        <div class="stat-card">
          <div class="stat-icon">üë•</div>
          <div class="stat-number" data-target="36">0</div>
          <div class="stat-label">H·ªçc sinh</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üìö</div>
          <div class="stat-number" data-target="100">0</div>
          <div class="stat-label">M√¥n h·ªçc</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üèÜ</div>
          <div class="stat-number" data-target="0">0</div>
          <div class="stat-label">Gi·∫£i th∆∞·ªüng</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">‚ù§Ô∏è</div>
          <div class="stat-number" data-target="36">0</div>
          <div class="stat-label">K·ª∑ ni·ªám</div>
        </div>
      </div>
    </div>

    <!-- Info Cards Grid -->
    <div class="cards-grid">
      <div class="info-card">
        <div class="info-card-icon">üéì</div>
        <h3>V·ªÅ ch√∫ng t√¥i</h3>
        <p>L·ªõp 12C2 - m·ªôt t·∫≠p th·ªÉ ƒëo√†n k·∫øt, nƒÉng ƒë·ªông v√† tr√†n ƒë·∫ßy nhi·ªát huy·∫øt. Ch√∫ng t√¥i kh√¥ng ch·ªâ h·ªçc t·∫≠p m√† c√≤n c√πng nhau tr·∫£i nghi·ªám nh·ªØng kho·∫£nh kh·∫Øc ƒë√°ng nh·ªõ nh·∫•t c·ªßa tu·ªïi h·ªçc tr√≤.</p>
      </div>
      <div class="info-card">
        <div class="info-card-icon">üíª</div>
        <h3>C√¥ng ngh·ªá</h3>
        <p>Trang web ƒë∆∞·ª£c x√¢y d·ª±ng b·ªüi h·ªçc sinh l·ªõp 12C2, th·ªÉ hi·ªán s·ª± s√°ng t·∫°o v√† ƒëam m√™ c√¥ng ngh·ªá c·ªßa ch√∫ng t√¥i. ƒê√¢y l√† n∆°i l∆∞u gi·ªØ nh·ªØng k·ª∑ ni·ªám v√† k·∫øt n·ªëi t·∫•t c·∫£ m·ªçi ng∆∞·ªùi.</p>
      </div>
      <div class="info-card">
        <div class="info-card-icon">üåü</div>
        <h3>Th√†nh t·ª±u</h3>
        <p>V·ªõi tinh th·∫ßn h·ªçc t·∫≠p kh√¥ng ng·ª´ng ngh·ªâ, l·ªõp ch√∫ng t√¥i ƒë√£ ƒë·∫°t ƒë∆∞·ª£c nhi·ªÅu th√†nh t√≠ch xu·∫•t s·∫Øc trong c√°c k·ª≥ thi v√† ho·∫°t ƒë·ªông ngo·∫°i kh√≥a, t·∫°o d·ª±ng uy t√≠n v√† ni·ªÅm t·ª± h√†o.</p>
      </div>
    </div>

    <!-- Quick Links -->
    <div class="quick-links-section">
      <h2>Truy c·∫≠p nhanh</h2>
      <div class="quick-links-grid">
        <a href="#section1" class="quick-link">
          <div class="quick-link-icon">üìñ</div>
          <div class="quick-link-content">
            <h4>Th√¥ng tin l·ªõp</h4>
            <p>Xem th√¥ng tin chi ti·∫øt v·ªÅ l·ªõp h·ªçc</p>
          </div>
        </a>
        <a href="#section2" class="quick-link">
          <div class="quick-link-icon">üì∏</div>
          <div class="quick-link-content">
            <h4>Th∆∞ vi·ªán ·∫£nh</h4>
            <p>Kh√°m ph√° k·ª∑ ni·ªám qua h√¨nh ·∫£nh</p>
          </div>
        </a>
        <a href="#section3" class="quick-link">
          <div class="quick-link-icon">üéÆ</div>
          <div class="quick-link-content">
            <h4>Mini Game</h4>
            <p>Ch∆°i game vui v·∫ª c√πng b·∫°n b√®</p>
          </div>
        </a>
        <a href="#section4" class="quick-link">
          <div class="quick-link-icon">üí¨</div>
          <div class="quick-link-content">
            <h4>B·∫£ng tin</h4>
            <p>ƒê·ªÉ l·∫°i l·ªùi nh·∫Øn v√† k·ª∑ ni·ªám</p>
          </div>
        </a>
      </div>
    </div>
  </main>

  <!-- Sections -->
  <section id="section1" class="page-section">
    <h1>üìö Gi·ªõi thi·ªáu v·ªÅ l·ªõp</h1>
    
    <!-- Timeline Section -->
    <div class="timeline-section">
      <h2>H√†nh tr√¨nh c·ªßa ch√∫ng t√¥i</h2>
      <div class="timeline">
        <div class="timeline-item">
          <div class="timeline-dot"></div>
          <div class="timeline-content">
            <div class="timeline-date">NƒÉm 2023</div>
            <h3>Kh·ªüi ƒë·∫ßu</h3>
            <p>L·ªõp 12C2 ƒë∆∞·ª£c th√†nh l·∫≠p v·ªõi 36 th√†nh vi√™n ƒë·∫ßy nhi·ªát huy·∫øt v√† ∆∞·ªõc m∆°.</p>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-dot"></div>
          <div class="timeline-content">
            <div class="timeline-date">Th√°ng 3/2024</div>
            <h3>Th√†nh t√≠ch ƒë·∫ßu ti√™n</h3>
            <p>ƒê·∫°t gi·∫£i Nh·∫•t trong cu·ªôc thi Khoa h·ªçc K·ªπ thu·∫≠t c·∫•p tr∆∞·ªùng.</p>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-dot"></div>
          <div class="timeline-content">
            <div class="timeline-date">Th√°ng 9/2024</div>
            <h3>Ph√°t tri·ªÉn</h3>
            <p>Ra m·∫Øt trang web l·ªõp h·ªçc v√† nhi·ªÅu ho·∫°t ƒë·ªông ngo·∫°i kh√≥a ƒëa d·∫°ng.</p>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-dot"></div>
          <div class="timeline-content">
            <div class="timeline-date">Hi·ªán t·∫°i</div>
            <h3>Ti·∫øp t·ª•c ph·∫•n ƒë·∫•u</h3>
            <p>C√πng nhau h∆∞·ªõng t·ªõi k·ª≥ thi t·ªët nghi·ªáp v√† t∆∞∆°ng lai t∆∞∆°i s√°ng.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Accordion Section -->
    <div class="accordion-section">
      <h2>Th√¥ng tin chi ti·∫øt</h2>
      <div class="accordion">
        <div class="accordion-item">
          <button class="accordion-header">
            <span>Th√¥ng tin c∆° b·∫£n</span>
            <svg class="accordion-icon" width="20" height="20" viewBox="0 0 20 20">
              <path d="M5 7.5L10 12.5L15 7.5" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/>
            </svg>
          </button>
          <div class="accordion-content">
            <p>L·ªõp 12C2 l√† m·ªôt trong nh·ªØng l·ªõp h·ªçc xu·∫•t s·∫Øc nh·∫•t tr∆∞·ªùng. V·ªõi 45 h·ªçc sinh ƒë·∫øn t·ª´ nhi·ªÅu v√πng mi·ªÅn kh√°c nhau, ch√∫ng t√¥i t·∫°o n√™n m·ªôt t·∫≠p th·ªÉ ƒëa d·∫°ng v√† ƒëo√†n k·∫øt.</p>
          </div>
        </div>
        <div class="accordion-item">
          <button class="accordion-header">
            <span>Ban c√°n s·ª± l·ªõp</span>
            <svg class="accordion-icon" width="20" height="20" viewBox="0 0 20 20">
              <path d="M5 7.5L10 12.5L15 7.5" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/>
            </svg>
          </button>
          <div class="accordion-content">
            <p><strong>L·ªõp tr∆∞·ªüng:</strong> Nguy·ªÖn VƒÉn A<br>
            <strong>L·ªõp ph√≥:</strong> Tr·∫ßn Th·ªã B<br>
            <strong>B√≠ th∆∞:</strong> L√™ VƒÉn C<br>
            <strong>VƒÉn ngh·ªá:</strong> Ph·∫°m Th·ªã D</p>
          </div>
        </div>
        <div class="accordion-item">
          <button class="accordion-header">
            <span>Ho·∫°t ƒë·ªông n·ªïi b·∫≠t</span>
            <svg class="accordion-icon" width="20" height="20" viewBox="0 0 20 20">
              <path d="M5 7.5L10 12.5L15 7.5" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/>
            </svg>
          </button>
          <div class="accordion-content">
            <ul>
              <li>Tham gia cu·ªôc thi Olympic c√°c m√¥n h·ªçc</li>
              <li>Ho·∫°t ƒë·ªông t√¨nh nguy·ªán c·ªông ƒë·ªìng</li>
              <li>T·ªï ch·ª©c c√°c bu·ªïi sinh ho·∫°t ngo·∫°i kh√≥a</li>
              <li>Ph√°t tri·ªÉn k·ªπ nƒÉng m·ªÅm v√† c√¥ng ngh·ªá</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="card" style="margin-top: 30px;">
      <h3>V·ªÅ l·ªõp 12C2</h3>
      <p>
        L·ªõp 12C2 l√† m·ªôt t·∫≠p th·ªÉ g·∫Øn k·∫øt, nƒÉng ƒë·ªông v√† s√°ng t·∫°o. Ch√∫ng t√¥i kh√¥ng ch·ªâ h·ªçc t·∫≠p chƒÉm ch·ªâ 
        m√† c√≤n lu√¥n ƒë·ªìng h√†nh c√πng nhau trong m·ªçi ho·∫°t ƒë·ªông. T·ª´ nh·ªØng bu·ªïi h·ªçc cƒÉng th·∫≥ng ƒë·∫øn nh·ªØng 
        gi√¢y ph√∫t th∆∞ gi√£n, t·∫•t c·∫£ ƒë·ªÅu t·∫°o n√™n nh·ªØng k·ª∑ ni·ªám ƒë√°ng nh·ªõ c·ªßa tu·ªïi h·ªçc tr√≤.
      </p>
    </div>
  </section>

  <section id="section2" class="page-section">
    <h1>üì∏ Th∆∞ vi·ªán ·∫£nh</h1>

    <div class="carousel-container">
      <div class="carousel">
        <button class="nav prev">
          <img src="assets/pictures/components/prev.png" />
        </button>
        <div class="viewport">
          <div class="track" id="track"></div>
        </div>
        <button class="nav next">
          <img src="assets/pictures/components/next.png" />
        </button>
      </div>
    </div>

    <div class="card" style="margin: 20px auto;">
      <p id="carousel-desc">Loading...</p>
    </div>

    <!-- Photo Gallery Grid -->
    <div class="photo-gallery-section">
      <h2>Kho·∫£nh kh·∫Øc ƒë√°ng nh·ªõ</h2>
      <div class="photo-grid">
        <div class="photo-item">
          <div class="photo-placeholder">
            <span class="photo-icon">üì∑</span>
            <p>Ng√†y khai gi·∫£ng</p>
          </div>
        </div>
        <div class="photo-item">
          <div class="photo-placeholder">
            <span class="photo-icon">üéâ</span>
            <p>Sinh nh·∫≠t l·ªõp</p>
          </div>
        </div>
        <div class="photo-item">
          <div class="photo-placeholder">
            <span class="photo-icon">üèÉ</span>
            <p>Gi·∫£i th·ªÉ thao</p>
          </div>
        </div>
        <div class="photo-item">
          <div class="photo-placeholder">
            <span class="photo-icon">üìö</span>
            <p>H·ªçc b√†i nh√≥m</p>
          </div>
        </div>
        <div class="photo-item">
          <div class="photo-placeholder">
            <span class="photo-icon">üå≥</span>
            <p>D√£ ngo·∫°i</p>
          </div>
        </div>
        <div class="photo-item">
          <div class="photo-placeholder">
            <span class="photo-icon">üé≠</span>
            <p>VƒÉn ngh·ªá</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="section3" class="page-section">
    <h1>üéÆ Mini Game - Kh√°m ph√° l·ªõp h·ªçc</h1>
    <div class="game-description-card">
      <p>Di chuy·ªÉn nh√¢n v·∫≠t b·∫±ng ph√≠m <strong>W/A/S/D</strong> v√† nh·∫•n <strong>E</strong> ƒë·ªÉ t∆∞∆°ng t√°c v·ªõi c√°c gh·∫ø ng·ªìi. 
      Kh√°m ph√° th√¥ng tin v·ªÅ c√°c b·∫°n trong l·ªõp!</p>
    </div>
    <div class="content-with-sidebox">
      <div class="main-content">
        <iframe src="minigame.html" width="620" height="660" id="gameFrame"
          style="border: none; border-radius: 12px;"></iframe>
      </div>
    </div>

    <div class="card" style="margin-top: 20px;">
      <h3>üéØ H∆∞·ªõng d·∫´n ch∆°i</h3>
      <ul style="line-height: 2;">
        <li>S·ª≠ d·ª•ng ph√≠m <strong>W/A/S/D</strong> ƒë·ªÉ di chuy·ªÉn nh√¢n v·∫≠t</li>
        <li>Nh·∫•n ph√≠m <strong>E</strong> khi ƒë·ª©ng g·∫ßn gh·∫ø ƒë·ªÉ xem th√¥ng tin</li>
        <li>Nh·∫•n n√∫t <strong>Reset</strong> ƒë·ªÉ ƒë∆∞a nh√¢n v·∫≠t v·ªÅ v·ªã tr√≠ ban ƒë·∫ßu</li>
        <li>Kh√°m ph√° to√†n b·ªô l·ªõp h·ªçc ƒë·ªÉ t√¨m hi·ªÉu v·ªÅ c√°c b·∫°n!</li>
      </ul>
    </div>
  </section>

  <br />
  <section id="section4" class="page-section">
    <h1>üí¨ B·∫£ng tin - ƒê·ªÉ l·∫°i l·ªùi nh·∫Øn</h1>
    <div class="card" style="margin-bottom: 20px;">
      <p>ƒê√¢y l√† n∆°i b·∫°n c√≥ th·ªÉ chia s·∫ª suy nghƒ©, k·ª∑ ni·ªám, hay nh·ªØng l·ªùi ch√∫c d√†nh cho l·ªõp 12C2. 
      H√£y ƒë·ªÉ l·∫°i d·∫•u ·∫•n c·ªßa b·∫°n t·∫°i ƒë√¢y!</p>
    </div>
    <div class="main-content">
      <iframe src="note.html" id="noteFrame" style="border: none; border-radius: 12px;"></iframe>
    </div>
  </section>

  <!-- Theme Toggle Button -->
  <button id="themeToggle" class="theme-toggle" aria-label="Toggle theme">
    <svg class="sun-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
      <circle cx="10" cy="10" r="4" stroke="currentColor" stroke-width="2"/>
      <path d="M10 2V4M10 16V18M18 10H16M4 10H2M15.5 4.5L14 6M6 14L4.5 15.5M15.5 15.5L14 14M6 6L4.5 4.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
    <svg class="moon-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" style="display: none;">
      <path d="M17 10.5C16.5 15 12.5 18 8 18C4.5 18 2 15.5 2 12C2 7.5 5 3.5 9.5 3C9 4.5 9 6.5 10 8.5C11 10.5 13 11.5 15 11.5C15.5 11.5 16.5 11 17 10.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>

  <!-- Reading Progress Bar -->
  <div id="readingProgress" class="reading-progress"></div>

  <!-- JS -->

  <!-- Section  -->
  <script>
    const sections = document.querySelectorAll(".page-section");
    const navLinks = document.querySelectorAll(".nav-links a");

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            // activate section animation
            entry.target.classList.add("active");

            // highlight sidebar
            navLinks.forEach((link) => {
              link.classList.toggle(
                "active",
                link.dataset.section === entry.target.id
              );
            });
          }
        });
      },
      {
        rootMargin: "-40% 0px -50% 0px",
      }
    );

    sections.forEach((section) => observer.observe(section));
  </script>

  <!-- splash screen -->
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      const splash = document.getElementById('splash-screen');
      const bar = document.getElementById('loading-bar');
      const body = document.body;

      let progress = 0;

      // 1. Fake Loading Bar Animation
      const interval = setInterval(() => {
        progress += Math.random() * 30; // Randomly increment
        if (progress > 100) progress = 100;

        bar.style.width = progress + '%';

        if (progress === 100) {
          clearInterval(interval);
          // Stop the pulsing before the final fade
          const splashLogo = document.getElementById('splash-logo');
          splashLogo.style.animation = "none";
          
          // 2. Start the Morph/Fade Transition
          setTimeout(() => {
            splash.classList.add('hidden'); // Fades the overlay
            body.classList.add('loaded');   // Shows the actual site content
          }, 500);
        }
      }, 200);
    });
  </script>

  <!-- Image Slider -->
  <script>
    const track = document.getElementById("track");
    const prev = document.querySelector(".prev");
    const next = document.querySelector(".next");

    const path = "assets/pictures/carousel1/";
    const ext = ".png";
    let images = [];
    let index = 0;

    let descriptions = {}; // {1: "...", 2: "..."}

    fetch("assets/pictures/carousel1/description.txt")
      .then(res => res.text())
      .then(text => {
        text.trim().split("\n").forEach(line => {
          const [id, desc] = line.split("|");
          if (id && desc) {
            descriptions[id.trim()] = desc.trim();
          }
        });
      })
      .catch(err => console.error("Description load error:", err));

    function loadImages(i = 1) {
      const img = new Image();
      img.src = `${path}${i}${ext}`;
      img.onload = () => {
        images.push(img.src);
        const slideDiv = document.createElement("div");
        slideDiv.className = "slide";
        const slideImg = document.createElement("img");
        slideImg.src = img.src;
        slideDiv.appendChild(slideImg);
        track.appendChild(slideDiv);
        loadImages(i + 1);
      };
      img.onerror = () => {
        if (images.length > 0) updateSlider();
      };
    }

    function updateSlider() {
      const slides = document.querySelectorAll('.slide');
      if (slides.length === 0) return;

      const slideWidth = 540; // 500 (width) + 40 (total margin)

      // Find the center of the viewport
      const viewportWidth = document.querySelector('.viewport').offsetWidth;
      const centerOffset = (viewportWidth / 2) - (slideWidth / 2);

      // Calculate movement
      const moveAmount = centerOffset - (index * slideWidth);

      track.style.transform = `translateX(${moveAmount}px)`;

      slides.forEach((slide, i) => {
        slide.classList.remove('active');
        if (i === index) {
          slide.classList.add('active');
        }
      });

      const descEl = document.getElementById("carousel-desc");
      const descKey = (index + 1).toString();

      descEl.textContent = descriptions[descKey] || "No description available.";
    }

    prev.onclick = () => {
      index = (index - 1 + images.length) % images.length;
      updateSlider();
    };

    next.onclick = () => {
      index = (index + 1) % images.length;
      updateSlider();
    };

    window.addEventListener('resize', updateSlider);
    loadImages();
  </script>

  <!-- Back to top button -->
  <button id="backToTop" aria-label="Back to top">
    <img src="assets/pictures/components/backtotop.png" />
  </button>

  <script>
    const btn = document.getElementById("backToTop");

    window.addEventListener("scroll", () => {
      if (window.scrollY > 200) {
        btn.classList.add("show");
      } else {
        btn.classList.remove("show");
      }
    });

    btn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });
  </script>

  <!-- Stats Counter Animation -->
  <script>
    function animateCounter(element) {
      const target = parseInt(element.getAttribute('data-target'));
      const duration = 2000;
      const increment = target / (duration / 16);
      let current = 0;

      const updateCounter = () => {
        current += increment;
        if (current < target) {
          element.textContent = Math.floor(current);
          requestAnimationFrame(updateCounter);
        } else {
          element.textContent = target;
        }
      };

      updateCounter();
    }

    // Trigger animation when hero stats are visible
    const statsObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const counters = entry.target.querySelectorAll('.stat-number');
          counters.forEach(counter => {
            if (counter.textContent === '0') {
              animateCounter(counter);
            }
          });
          statsObserver.unobserve(entry.target);
        }
      });
    }, { threshold: 0.5 });

    const heroStats = document.querySelector('.hero-stats');
    if (heroStats) {
      statsObserver.observe(heroStats);
    }
  </script>

  <!-- Accordion Functionality -->
  <script>
    document.querySelectorAll('.accordion-header').forEach(header => {
      header.addEventListener('click', () => {
        const item = header.parentElement;
        const content = item.querySelector('.accordion-content');
        const isActive = item.classList.contains('active');

        // Close all accordion items
        document.querySelectorAll('.accordion-item').forEach(i => {
          i.classList.remove('active');
          i.querySelector('.accordion-content').style.maxHeight = null;
        });

        // Open clicked item if it wasn't active
        if (!isActive) {
          item.classList.add('active');
          content.style.maxHeight = content.scrollHeight + 'px';
        }
      });
    });
  </script>

  <!-- Theme Toggle -->
  <script>
    const themeToggle = document.getElementById('themeToggle');
    const sunIcon = themeToggle.querySelector('.sun-icon');
    const moonIcon = themeToggle.querySelector('.moon-icon');
    const root = document.documentElement;

    // Check for saved theme preference or default to 'dark'
    const currentTheme = localStorage.getItem('theme') || 'dark';
    root.setAttribute('data-theme', currentTheme);
    
    if (currentTheme === 'light') {
      sunIcon.style.display = 'none';
      moonIcon.style.display = 'block';
    }

    themeToggle.addEventListener('click', () => {
      const theme = root.getAttribute('data-theme');
      const newTheme = theme === 'dark' ? 'light' : 'dark';
      
      root.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);

      if (newTheme === 'light') {
        sunIcon.style.display = 'none';
        moonIcon.style.display = 'block';
      } else {
        sunIcon.style.display = 'block';
        moonIcon.style.display = 'none';
      }
    });
  </script>

  <!-- Reading Progress Bar -->
  <script>
    const progressBar = document.getElementById('readingProgress');
    
    window.addEventListener('scroll', () => {
      const windowHeight = window.innerHeight;
      const documentHeight = document.documentElement.scrollHeight - windowHeight;
      const scrolled = window.scrollY;
      const progress = (scrolled / documentHeight) * 100;
      
      progressBar.style.width = progress + '%';
    });
  </script>

    <!-- Announcements Widget Script -->
    <script>
      (function(){
        const announceBody = document.getElementById('announceBody');
        const announceAuthor = document.getElementById('announceAuthor');
        const prevBtn = document.getElementById('announcePrev');
        const nextBtn = document.getElementById('announceNext');
        const pauseBtn = document.getElementById('announcePause');

        let messages = [];
        let idx = 0;
        let interval = null;
        let paused = false;

        function render() {
          if (messages.length === 0) {
            announceBody.textContent = 'Kh√¥ng c√≥ tin m·ªõi.';
            announceAuthor.textContent = '';
            return;
          }

          const [author, text] = messages[idx];
          announceBody.textContent = text;
          announceAuthor.textContent = author ? `‚Äî ${author}` : '';
        }

        function next() {
          idx = (idx + 1) % messages.length;
          render();
        }

        function prev() {
          idx = (idx - 1 + messages.length) % messages.length;
          render();
        }

        function startAuto() {
          if (interval) clearInterval(interval);
          interval = setInterval(() => {
            if (!paused) next();
          }, 4000);
        }

        prevBtn.addEventListener('click', () => { prev(); startAuto(); });
        nextBtn.addEventListener('click', () => { next(); startAuto(); });
        pauseBtn.addEventListener('click', () => {
          paused = !paused;
          pauseBtn.textContent = paused ? '‚ñ∂' : '‚è∏';
          pauseBtn.setAttribute('aria-pressed', String(paused));
        });

        fetch('assets/data/messages.txt')
          .then(r => r.text())
          .then(text => {
            messages = text.trim().split('\n').map(line => {
              const parts = line.split('|');
              return [parts[0] ? parts[0].trim() : '·∫®n danh', parts[1] ? parts[1].trim() : ''];
            }).filter(m => m[1]);

            if (messages.length === 0) {
              announceBody.textContent = 'Kh√¥ng c√≥ tin m·ªõi.';
              return;
            }

            render();
            startAuto();
          })
          .catch(err => {
            announceBody.textContent = 'L·ªói khi t·∫£i tin.';
            console.error(err);
          });
      })();
    </script>
</body>

</html>