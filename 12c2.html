<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>12c2 cê hai say hi</title>

  <!-- Link CSS -->
  <link rel="stylesheet" href="12c2_styles.css" />
</head>

<body>
  <div id="splash-screen">
    <div class="splash-content">
      <img id="splash-logo" src="assets/pictures/components/logo.jpg" alt="Logo" />
      <div class="loader-container">
        <div id="loading-bar"></div>
      </div>
      <p class="loading-text">Loading 12C2...</p>
    </div>
  </div>

  <aside class="sidebar">
    <!-- Logo -->
    <img class="logo" src="assets/pictures/components/logo.jpg" />
    <button class="menu-toggle" aria-expanded="false" aria-controls="sidebarNav" aria-label="Open navigation">
      <span class="sr-only">Open navigation</span>
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <path d="M3 6h18M3 12h18M3 18h18" />
      </svg>
    </button>

    <!-- Navigation -->
    <ul id="sidebarNav" class="nav-links" role="navigation" aria-hidden="true">
      <li>
        <a href="#section1" data-section="section1">
          <img class="icon" src="assets/pictures/components/section1.svg" />
          <span class="text">Mục 1</span>
        </a>
      </li>

      <li>
        <a href="#section2" data-section="section2">
          <img class="icon" src="assets/pictures/components/section2.svg" />
          <span class="text">Mục 2</span>
        </a>
      </li>

      <li>
        <a href="#section3" data-section="section3">
          <img class="icon" src="assets/pictures/components/section3.svg" />
          <span class="text">Mục 3</span>
        </a>
      </li>

      <li>
        <a href="#section4" data-section="section4">
          <img class="icon" src="assets/pictures/components/section4.svg" />
          <span class="text">Mục 4</span>
        </a>
      </li>
    </ul>

    <!-- Footer -->
    <div class="sidebar-footer">© Made By Tổ 2</div>
  </aside>

  <main class="main">
    <h1>Welcome</h1>
    <div class="card">
      <p>
        Ngành IT Việt Nam hiện nay ở đầu của sự phát triển. Có thể nói IT là
        vua của các nghề. Vừa có tiền, có quyền. Vừa kiếm được nhiều $ lại
        được xã hội trọng vọng. Thằng em mình học bách khoa cơ khí, sinh năm
        96. Tự mày mò học code rồi đi làm remote cho công ty Mỹ 2 năm nay. Mỗi
        tối online 3-4 giờ là xong việc. Lương tháng 3k6. Nhưng thu nhập chính
        vẫn là từ nhận các project bên ngoài làm thêm. Tuần làm 2,3 cái nhẹ
        nhàng 9,10k tiền tươi thóc thật không phải đóng thuế. Làm gần được 3
        năm mà nhà xe nó đã mua đủ cả. Nghĩ mà thèm. Gái gú thì cứ nghe nó bảo
        làm CNTT thì chảy nước. Có bé kia dân du học sinh Úc, về được cô chị
        giới thiệu làm ngân hàng VCB. Thế nào thằng ấy đi mở thẻ tín dụng gặp
        phải thế là hốt được cả chị lẫn em. 3 đứa nó sống chung một căn hộ cao
        cấp. Nhà con bé kia biết chuyện ban đầu phản đối sau biết thằng đấy
        học IT thì đổi thái độ, cách ba bữa hỏi thăm, năm bữa tặng quà lấy
        long, luôn giục cưới kẻo lỡ kèo ngon.
      </p>
    </div>
    <br />
    <div class="card">
      <p>
        Ngành IT Việt Nam hiện nay ở đầu của sự phát triển. Có thể nói IT là
        vua của các nghề. Vừa có tiền, có quyền. Vừa kiếm được nhiều $ lại
        được xã hội trọng vọng. Thằng em mình học bách khoa cơ khí, sinh năm
        96. Tự mày mò học code rồi đi làm remote cho công ty Mỹ 2 năm nay. Mỗi
        tối online 3-4 giờ là xong việc. Lương tháng 3k6. Nhưng thu nhập chính
        vẫn là từ nhận các project bên ngoài làm thêm. Tuần làm 2,3 cái nhẹ
        nhàng 9,10k tiền tươi thóc thật không phải đóng thuế. Làm gần được 3
        năm mà nhà xe nó đã mua đủ cả. Nghĩ mà thèm. Gái gú thì cứ nghe nó bảo
        làm CNTT thì chảy nước. Có bé kia dân du học sinh Úc, về được cô chị
        giới thiệu làm ngân hàng VCB. Thế nào thằng ấy đi mở thẻ tín dụng gặp
        phải thế là hốt được cả chị lẫn em. 3 đứa nó sống chung một căn hộ cao
        cấp. Nhà con bé kia biết chuyện ban đầu phản đối sau biết thằng đấy
        học IT thì đổi thái độ, cách ba bữa hỏi thăm, năm bữa tặng quà lấy
        long, luôn giục cưới kẻo lỡ kèo ngon.
      </p>
    </div>
    <br />
    <div class="card">
      <p>
        Ngành IT Việt Nam hiện nay ở đầu của sự phát triển. Có thể nói IT là
        vua của các nghề. Vừa có tiền, có quyền. Vừa kiếm được nhiều $ lại
        được xã hội trọng vọng. Thằng em mình học bách khoa cơ khí, sinh năm
        96. Tự mày mò học code rồi đi làm remote cho công ty Mỹ 2 năm nay. Mỗi
        tối online 3-4 giờ là xong việc. Lương tháng 3k6. Nhưng thu nhập chính
        vẫn là từ nhận các project bên ngoài làm thêm. Tuần làm 2,3 cái nhẹ
        nhàng 9,10k tiền tươi thóc thật không phải đóng thuế. Làm gần được 3
        năm mà nhà xe nó đã mua đủ cả. Nghĩ mà thèm. Gái gú thì cứ nghe nó bảo
        làm CNTT thì chảy nước. Có bé kia dân du học sinh Úc, về được cô chị
        giới thiệu làm ngân hàng VCB. Thế nào thằng ấy đi mở thẻ tín dụng gặp
        phải thế là hốt được cả chị lẫn em. 3 đứa nó sống chung một căn hộ cao
        cấp. Nhà con bé kia biết chuyện ban đầu phản đối sau biết thằng đấy
        học IT thì đổi thái độ, cách ba bữa hỏi thăm, năm bữa tặng quà lấy
        long, luôn giục cưới kẻo lỡ kèo ngon.
      </p>
    </div>
    <br />
  </main>

  <!-- Sections -->
  <section id="section1" class="page-section">
    <h1>Mục 1</h1>
    <div class="card">
      <p>
        Ngành IT Việt Nam hiện nay ở đầu của sự phát triển. Có thể nói IT là
        vua của các nghề. Vừa có tiền, có quyền. Vừa kiếm được nhiều $ lại
        được xã hội trọng vọng. Thằng em mình học bách khoa cơ khí, sinh năm
        96. Tự mày mò học code rồi đi làm remote cho công ty Mỹ 2 năm nay.
        Mỗi tối online 3-4 giờ là xong việc. Lương tháng 3k6. Nhưng thu nhập
        chính vẫn là từ nhận các project bên ngoài làm thêm. Tuần làm 2,3
        cái nhẹ nhàng 9,10k tiền tươi thóc thật không phải đóng thuế. Làm
        gần được 3 năm mà nhà xe nó đã mua đủ cả. Nghĩ mà thèm. Gái gú thì
        cứ nghe nó bảo làm CNTT thì chảy nước. Có bé kia dân du học sinh Úc,
        về được cô chị giới thiệu làm ngân hàng VCB. Thế nào thằng ấy đi mở
        thẻ tín dụng gặp phải thế là hốt được cả chị lẫn em. 3 đứa nó sống
        chung một căn hộ cao cấp. Nhà con bé kia biết chuyện ban đầu phản
        đối sau biết thằng đấy học IT thì đổi thái độ, cách ba bữa hỏi thăm,
        năm bữa tặng quà lấy long, luôn giục cưới kẻo lỡ kèo ngon.
      </p>
    </div>
  </section>

  <section id="section2" class="page-section">
    <h1>Mục 2</h1>

    <div class="carousel-container">
      <div class="carousel">
        <button class="nav prev" aria-label="Previous slide">
          <img src="assets/pictures/components/prev.png" alt="Previous" />
        </button>
        <div class="viewport">
          <div class="track" id="track"></div>
        </div>
        <button class="nav next" aria-label="Next slide">
          <img src="assets/pictures/components/next.png" alt="Next" />
        </button>
      </div>
    </div>

    <div class="card" style="margin: 20px auto;">
      <p id="carousel-desc" aria-live="polite">Loading...</p>
    </div>
  </section>

  <section id="section3" class="page-section">
    <h1>Mục 3</h1>
    <div class="content-with-sidebox">
      <div class="main-content">
        <iframe src="minigame.html" width="620" height="660" id="gameFrame"
          style="border: none; border-radius: 12px;"></iframe>
      </div>
    </div>

    <div class="card" style="margin: 20px auto;">
      <p>
        Ngành IT Việt Nam hiện nay ở đầu của sự phát triển. Có thể nói IT là
        vua của các nghề. Vừa có tiền, có quyền. Vừa kiếm được nhiều $ lại
        được xã hội trọng vọng. Thằng em mình học bách khoa cơ khí, sinh năm
        96. Tự mày mò học code rồi đi làm remote cho công ty Mỹ 2 năm nay.
        Mỗi tối online 3-4 giờ là xong việc. Lương tháng 3k6. Nhưng thu nhập
        chính vẫn là từ nhận các project bên ngoài làm thêm. Tuần làm 2,3
        cái nhẹ nhàng 9,10k tiền tươi thóc thật không phải đóng thuế. Làm
        gần được 3 năm mà nhà xe nó đã mua đủ cả. Nghĩ mà thèm. Gái gú thì
        cứ nghe nó bảo làm CNTT thì chảy nước. Có bé kia dân du học sinh Úc,
        về được cô chị giới thiệu làm ngân hàng VCB. Thế nào thằng ấy đi mở
        thẻ tín dụng gặp phải thế là hốt được cả chị lẫn em. 3 đứa nó sống
        chung một căn hộ cao cấp. Nhà con bé kia biết chuyện ban đầu phản
        đối sau biết thằng đấy học IT thì đổi thái độ, cách ba bữa hỏi thăm,
        năm bữa tặng quà lấy long, luôn giục cưới kẻo lỡ kèo ngon.
      </p>
    </div>
  </section>

  <br />
  <section id="section4" class="page-section">
    <h1>Mục 4</h1>
    <div class="main-content">
      <iframe src="note.html" id="noteFrame" style="border: none; border-radius: 12px;"></iframe>
    </div>
  </section>

  <!-- JS -->

  <!-- Section  -->
  <script>
    const sections = document.querySelectorAll(".page-section");
    const navLinks = document.querySelectorAll(".nav-links a");

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            // activate section animation
            entry.target.classList.add("active");

            // highlight sidebar
            navLinks.forEach((link) => {
              link.classList.toggle(
                "active",
                link.dataset.section === entry.target.id
              );
            });
          }
        });
      },
      {
        rootMargin: "-40% 0px -50% 0px",
      }
    );

    sections.forEach((section) => observer.observe(section));
  </script>

  <!-- splash screen -->
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      const splash = document.getElementById('splash-screen');
      const bar = document.getElementById('loading-bar');
      const body = document.body;

      let progress = 0;

      // 1. Fake Loading Bar Animation
      const interval = setInterval(() => {
        progress += Math.random() * 30; // Randomly increment
        if (progress > 100) progress = 100;

        bar.style.width = progress + '%';

        if (progress === 100) {
          clearInterval(interval);
          // Stop the pulsing before the final fade
          const splashLogo = document.getElementById('splash-logo');
          splashLogo.style.animation = "none";

          // 2. Start the Morph/Fade Transition
          setTimeout(() => {
            splash.classList.add('hidden'); // Fades the overlay
            body.classList.add('loaded');   // Shows the actual site content
          }, 500);
        }
      }, 200);
    });
  </script>

  <!-- Image Slider -->
  <script>
    (function () {
      const track = document.getElementById("track");
      const prev = document.querySelector(".prev");
      const next = document.querySelector(".next");
      const viewport = document.querySelector('.viewport');
      // disable nav until images are populated
      if (prev) prev.disabled = true;
      if (next) next.disabled = true;

      const path = "assets/pictures/carousel1/";
      const ext = ".png";
      let images = [];
      let index = 0;

      let descriptions = {}; // {1: "...", 2: "..."}

      fetch("assets/pictures/carousel1/description.txt")
        .then(res => res.text())
        .then(text => {
          text.trim().split("\n").forEach(line => {
            const [id, desc] = line.split("|");
            if (id && desc) {
              descriptions[id.trim()] = desc.trim();
            }
          });
        })
        .catch(err => console.error("Description load error:", err));

      function loadImages(i = 1) {
        const img = new Image();
        img.src = `${path}${i}${ext}`;
        img.onload = () => {
          images.push(img.src);
          const slideDiv = document.createElement("div");
          slideDiv.className = "slide";
          const slideImg = document.createElement("img");
          slideImg.src = img.src;
          slideImg.alt = `Carousel image ${i}`;
          slideDiv.appendChild(slideImg);
          track.appendChild(slideDiv);
          loadImages(i + 1);
        };
        img.onerror = () => {
          if (images.length > 0) {
            updateSlider();
            if (prev) prev.disabled = false;
            if (next) next.disabled = false;
          }
        };
      }

      function updateSlider() {
        const slides = document.querySelectorAll('.slide');
        if (slides.length === 0) return;

        const viewportWidth = viewport.offsetWidth;
        const slide = slides[index];

        // Center the active slide in the viewport
        const moveAmount = (viewportWidth - slide.offsetWidth) / 2 - slide.offsetLeft;

        track.style.transition = 'transform 0.6s cubic-bezier(0.23, 1, 0.32, 1)';
        track.style.transform = `translateX(${moveAmount}px)`;

        slides.forEach((s, i) => {
          s.classList.toggle('active', i === index);
        });

        const descEl = document.getElementById("carousel-desc");
        const descKey = (index + 1).toString();

        descEl.textContent = descriptions[descKey] || "No description available.";
      }

      if (prev) prev.addEventListener('click', () => {
        index = (index - 1 + images.length) % images.length;
        updateSlider();
      });
      if (next) next.addEventListener('click', () => {
        index = (index + 1) % images.length;
        updateSlider();
      });

      // Touch support - simple swipe detection
      let startX = null;
      viewport && viewport.addEventListener('touchstart', (e) => {
        startX = e.touches[0].clientX;
      }, { passive: true });

      viewport && viewport.addEventListener('touchend', (e) => {
        if (startX === null) return;
        const endX = e.changedTouches[0].clientX;
        const diff = endX - startX;
        if (diff > 40) { index = (index - 1 + images.length) % images.length; updateSlider(); }
        else if (diff < -40) { index = (index + 1) % images.length; updateSlider(); }
        startX = null;
      });

      // keyboard support: left/right arrow
      window.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') { index = (index - 1 + images.length) % images.length; updateSlider(); }
        if (e.key === 'ArrowRight') { index = (index + 1) % images.length; updateSlider(); }
      });

      window.addEventListener('resize', updateSlider);
      loadImages();
    })();
  </script>

  <!-- Back to top button -->
  <button id="backToTop" aria-label="Back to top">
    <img src="assets/pictures/components/backtotop.png" />
  </button>

  <script>
    const btn = document.getElementById("backToTop");

    window.addEventListener("scroll", () => {
      if (window.scrollY > 200) {
        btn.classList.add("show");
      } else {
        btn.classList.remove("show");
      }
    });

    btn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });
  </script>

  <!-- Sidebar toggle (mobile) -->
  <script>
    (function () {
      const sidebar = document.querySelector('.sidebar');
      const toggle = document.querySelector('.menu-toggle');
      const sidebarNav = document.getElementById('sidebarNav');
      if (!sidebar || !toggle) return;

      function getFocusable() {
        return sidebarNav ? Array.from(sidebarNav.querySelectorAll('a, button')) : [];
      }

      function closeMenu() {
        sidebar.classList.remove('expanded');
        toggle.setAttribute('aria-expanded', 'false');
        if (sidebarNav) sidebarNav.setAttribute('aria-hidden', 'true');
        document.body.classList.remove('menu-open');
        document.removeEventListener('click', onDocClick);
        document.removeEventListener('keydown', onKeyDown);
        toggle.focus();
      }

      function openMenu() {
        sidebar.classList.add('expanded');
        toggle.setAttribute('aria-expanded', 'true');
        if (sidebarNav) sidebarNav.setAttribute('aria-hidden', 'false');
        document.body.classList.add('menu-open');
        setTimeout(() => {
          const focusable = getFocusable();
          if (focusable.length) focusable[0].focus();
          document.addEventListener('click', onDocClick);
          document.addEventListener('keydown', onKeyDown);
        }, 10);
      }

      function onDocClick(e) {
        if (!sidebar.contains(e.target) && !toggle.contains(e.target)) closeMenu();
      }

      function onKeyDown(e) {
        if (e.key === 'Escape') { closeMenu(); return; }
        if (e.key === 'Tab') {
          const focusable = getFocusable();
          if (!focusable.length) return;
          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          if (e.shiftKey && document.activeElement === first) { e.preventDefault(); last.focus(); }
          else if (!e.shiftKey && document.activeElement === last) { e.preventDefault(); first.focus(); }
        }
      }

      toggle.addEventListener('click', function (e) {
        e.stopPropagation();
        const expanded = this.getAttribute('aria-expanded') === 'true';
        if (expanded) closeMenu(); else openMenu();
      });

      // ensure initial state
      if (sidebarNav) sidebarNav.setAttribute('aria-hidden', 'true');
    })();
  </script>
</body>

</html>